<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canciones Que Te Dedicar√≠a</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .powered {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 30px;
            font-size: 14px;
        }
        h1 {
            font-size: 39px;
            text-align: center;
            background: linear-gradient(to right, #df51df 30%, #1d1dff 5%, #df51df 2%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 5px 10px rgba(0, 0, 0, 0.644);
        }
        h2 {
            margin-top: -10px;
            font-size: 35px;
            text-align: center;
            background: linear-gradient(to right, #df51df 2%, #860a72);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 5px 10px rgba(0, 0, 0, 0.644);
        }
        .text {
            text-align: center;
            color: rgba(255, 255, 255, 0.322);
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .filter-btn {
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            border: none;
            border-radius: 50px;
            color: white;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }
        .filter-btn.active {
            background: linear-gradient(to right, #ff6b6b, #ffa36c);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
        }
        .lista {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            padding: 20px;
            margin: 20px auto;
        }
        .cancion {
            width: 180px;
            background: linear-gradient(145deg, #2d3047, #1b1e2b);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .cancion::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .cancion:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        .cancion:hover::before {
            opacity: 1;
        }
        .portada {
            width: 120px;
            height: 120px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 12px;
            position: relative;
            background: #2d3047;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .portada img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        .cancion:hover .portada img {
            transform: scale(1.05);
        }
        .loading-image {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            border-top: 3px solid #6a11cb;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .nombre h4 {
            font-size: 16px;
            text-align: center;
            margin: 5px 0;
            color: white;
            font-weight: 600;
        }
        .artista p {
            margin: 0;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }
        .player-fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .player-content {
            width: 90%;
            max-width: 500px;
            background: rgba(30, 30, 46, 0.9);
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            position: relative;
        }
        .song-display {
            width: 250px;
            height: 250px;
            margin: 20px 0;
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .song-display img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .lyrics-display {
            width: 100%;
            height: 200px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            display: none;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 10px;
        }
        .lyrics-container {
            width: 100%;
            text-align: center;
            transition: transform 0.5s ease;
        }
        .lyrics-line {
            color: rgba(255, 255, 255, 0.7);
            font-size: 15px;
            margin: 12px 0;
            transition: all 0.5s ease;
            opacity: 13%;
            transform: scale(0.9);
        }
        .lyrics-line.active {
            color: #6a11cb;
            font-size: 19px;
            font-weight: bold;
            opacity: 1;
            transform: scale(1);
            text-shadow: 0 0 10px rgba(106, 17, 203, 0.5);
        }
        .lyrics-line.previous {
            color: rgba(255, 255, 255, 0.4);
            font-size: 16px;
            opacity: 0.8;
            transform: scale(0.95);
        }
        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 20px 0;
        }
        .progress-container {
            width: 100%;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 15px 0;
            cursor: pointer;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s ease;
        }
        .time-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            margin-bottom: 10px;
        }
        .player-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 20px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            margin: 0 10px;
        }
        .player-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        .player-btn:active {
            transform: scale(0.95);
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
            z-index: 10;
        }
        .close-btn:hover {
            color: #ff6b6b;
        }
        .song-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            text-align: center;
        }
        .song-info h3 {
            margin: 5px 0;
            font-size: 24px;
            color: white;
        }
        .song-info p {
            margin: 5px 0;
            color: rgba(255, 255, 255, 0.7);
            font-size: 16px;
        }
        .empty-message {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 18px;
            margin-top: 50px;
            display: none;
        }
        .loading {
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
            text-align: center;
            padding: 20px;
        }
        .lyrics-toggle-container {
            width: 100%;
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }
        .lyrics-toggle-btn {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            border: none;
            border-radius: 25px;
            color: white;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }
        .lyrics-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
        }
        .lyrics-toggle-btn.active {
            background: linear-gradient(to right, #ff6b6b, #ffa36c);
        }
        .favorite-player-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }
        .favorite-player-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        .favorite-player-btn.active {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
        }
        .favorite-player-btn.active:hover {
            background: rgba(255, 107, 107, 0.3);
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 32px;
            }

            h2 {
                font-size: 26px;
            }

            .cancion {
                width: 160px;
            }

            .player-content {
                width: 95%;
                padding: 20px;
            }

            .song-display {
                width: 200px;
                height: 200px;
            }
        }
        @media (max-width: 480px) {
            .cancion {
                width: 140px;
            }

            .portada {
                width: 100px;
                height: 100px;
            }

            .filter-btn {
                padding: 10px 20px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Feliz Cumple Mes #6 Mi Princesa</h1>
        <p class="text">Gracias por estar a mi lado apoy√°ndome y queri√©ndome<br>No olvides lo mucho que te amo<br>y te amar√© por Siempre</p>
        <h2>Canciones Que Te Dedicar√≠a</h2>
        <p class="text">Esc√∫chalas Todas ; )<br>Y Recuerda que eres <b>Mi Ni√±a Bonita : )</b></p>
        <!-- Controles de filtro -->
        <div class="controls">
            <button class="filter-btn active" id="all-songs-btn">
                <i class="fas fa-music"></i>
                Todas las canciones
            </button>
            <button class="filter-btn" id="favorites-btn">
                <i class="fas fa-heart"></i>
                Mis favoritas
            </button>
        </div>
        <!-- Lista de canciones -->
        <div class="lista" id="songs-list">
            <!-- Las canciones se a√±adir√°n aqu√≠ din√°micamente -->
        </div>
        <!-- Mensaje cuando no hay favoritos -->
        <div class="empty-message" id="empty-favorites">
            <p>No tienes canciones favoritas a√∫n.</p>
            <p>¬°Haz clic en el coraz√≥n de las canciones que m√°s te gusten!</p>
        </div>
        <!-- Reproductor en pantalla completa -->
        <div class="player-fullscreen" id="player-fullscreen">
            <div class="player-content">
                <i class="fas fa-times close-btn" id="close-btn"></i>

                <!-- Bot√≥n de favoritos en el reproductor -->
                <button class="favorite-player-btn" id="favorite-player-btn">
                    <i class="far fa-heart"></i>
                </button>

                <div class="song-info">
                    <h3 id="current-song-name">Selecciona una canci√≥n</h3>
                    <p id="current-artist"></p>
                </div>

                <div class="song-display" id="song-display">
                    <div class="loading-image" id="cover-loading"></div>
                    <img id="current-cover" src="" alt="Portada" style="display: none;">
                </div>

                <div class="lyrics-display" id="lyrics-display">
                    <div class="lyrics-container" id="lyrics-container">
                        <div class="loading">Cargando letra...</div>
                    </div>
                </div>

                <!-- Bot√≥n de letras arriba de la barra de progreso -->
                <div class="lyrics-toggle-container">
                    <button class="lyrics-toggle-btn" id="lyrics-toggle-btn">
                        <span>üé§</span>
                        <span>Letras</span>
                    </button>
                </div>

                <audio id="audio-player" src=""></audio>
                <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="time-info">
                    <span id="current-time">0:00</span>
                    <span id="duration">0:00</span>
                </div>
                <div class="player-controls">
                    <button class="player-btn" id="prev-btn"><i class="fas fa-step-backward"></i></button>
                    <button class="player-btn" id="play-btn"><i class="fas fa-play"></i></button>
                    <button class="player-btn" id="next-btn"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>
        </div>
        <p class="text">La que est√° en ingl√©s <br> es aprovechando que no sabes : )</p>
        <p class="powered">By <b>Royner Far√≠as ¬≤‚Å∏</b></p>
    </div>
    <script>
        // Elementos del DOM
        const audioPlayer = document.getElementById('audio-player');
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const lyricsContainer = document.getElementById('lyrics-container');
        const songDisplay = document.getElementById('song-display');
        const lyricsDisplay = document.getElementById('lyrics-display');
        const currentSongNameEl = document.getElementById('current-song-name');
        const currentArtistEl = document.getElementById('current-artist');
        const currentCoverEl = document.getElementById('current-cover');
        const coverLoading = document.getElementById('cover-loading');
        const songsList = document.getElementById('songs-list');
        const playerFullscreen = document.getElementById('player-fullscreen');
        const closeBtn = document.getElementById('close-btn');
        const lyricsToggleBtn = document.getElementById('lyrics-toggle-btn');
        const favoritePlayerBtn = document.getElementById('favorite-player-btn');
        const allSongsBtn = document.getElementById('all-songs-btn');
        const favoritesBtn = document.getElementById('favorites-btn');
        const emptyFavorites = document.getElementById('empty-favorites');

        // Variables de estado
        let isPlaying = false;
        let currentSongIndex = 0;
        let isLyricsVisible = false;
        let showingFavorites = false;
        let lyricsLines = [];

        // Lista de canciones
        const songs = [
            {
                name: "Una Mujer Como T√∫",
                artist: "Eddie Santiago",
                audioSrc: "https://raw.githubusercontent.com/roynercodex/roynercode/principal/Una%20Mujer%20Como%20t%C3%BA.mp3",
                lyricsFile: "Una mujer como t√∫ (2).lrc",
                coverImage: "Albums/Una mujer mujer como tu.png"
            },
            {
                name: "De Sol a Sol",
                artist: "Salserin",
                audioSrc: "music/de_sol_a_sol.mp3",
                lyricsFile: "Lyrics/de_sol_a_sol.lrc",
                coverImage: "Albums/De sol a sol.png"
            },
            {
                name: "La Magia de Tus Besos",
                artist: "Grupo Niche",
                audioSrc: "music/la_magia_de_tus_besos.mp3",
                lyricsFile: "Lyrics/la_magia_de_tus_besos.lrc",
                coverImage: "Albums/la magia de tus besos.png"
            },
            {
                name: "Solo Te Quiero Amar",
                artist: "Calle Ciega",
                audioSrc: "music/solo_te_quiero_amar.mp3",
                lyricsFile: "Lyrics/solo_te_quiero_amar.lrc",
                coverImage: "Albums/Solo te quiero amar.png"
            },
            {
                name: "23",
                artist: "Morat",
                audioSrc: "music/23.mp3",
                lyricsFile: "Lyrics/23.lrc",
                coverImage: "Albums/23.png"
            },
            {
                name: "Cuando Nadie Ve",
                artist: "Morat",
                audioSrc: "music/cuando_nadie_ve.mp3",
                lyricsFile: "Lyrics/cuando_nadie_ve.lrc",
                coverImage: "Albums/Cuando nadie ve.png"
            },
            {
                name: "Chachach√°",
                artist: "J√≥sean Log",
                audioSrc: "music/chachacha.mp3",
                lyricsFile: "Lyrics/chachacha.lrc",
                coverImage: "Albums/Chachach√°.png"
            },
            {
                name: "Tiroteo",
                artist: "Marc Segui",
                audioSrc: "music/tiroteo.mp3",
                lyricsFile: "Lyrics/tiroteo.lrc",
                coverImage: "Albums/Tiroteo.png"
            },
            {
                name: "Hechizo de Luna",
                artist: "Edgar Joel",
                audioSrc: "music/hechizo_de_luna.mp3",
                lyricsFile: "Lyrics/hechizo_de_luna.lrc",
                coverImage: "Albums/Hechizo de luna.png"
            },
            {
                name: "Voy a Conquistar Tu Amor",
                artist: "Johnny Rivera",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/Voy a conquistar tu amor.png"
            },
            {
                name: "En Guerra",
                artist: "Sebastian Yatra",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/en guerra.png"
            },
            {
                name: "No Hace Falta",
                artist: "Sunny",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/No hace falta.png"
            },
            {
                name: "Coraz√≥n Sin Cara",
                artist: "Prince Royce",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/coraz√≥n sin cara.png"
            },
            {
                name: "Mi Ni√±a Bonita",
                artist: "Chino y Nacho",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/Ni√±a bonita - chino y nacho.png"
            },
            {
                name: "A Thousand Years",
                artist: "Kevin & Karla",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/A thousand years.png"
            },
            {
                name: "Te Hizo Tan Bella",
                artist: "Adolescents Orquesta",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/Te hizo  tan bella.jpg"
            },
            {
                name: "Que Hay De Malo",
                artist: "Jerry Rivera",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/Que hay de malo.jpg"
            },
            {
                name: "T√∫ No Lo Amas",
                artist: "Anuel AA",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/T√∫ no lo amas.jpg"
            },
            {
                name: "Follow",
                artist: "Anuel, Karol G",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/follow.png"
            },
            {
                name: "Eres Mi Sue√±o",
                artist: "Fonseca",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/eres mi sue√±o.png"
            },
            {
                name: "La Bella Y La Bestia",
                artist: "Anuel AA",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/la bella y la bestia.png"
            },
            {
                name: "Those Eyes",
                artist: "New West",
                audioSrc: "music/voy_a_conquistar_tu_amor.mp3",
                lyricsFile: "Lyrics/voy_a_conquistar_tu_amor.lrc",
                coverImage: "Albums/Those eyes.png"
            }
        ];

        // Cargar las canciones en el DOM
        function renderSongs(songsToRender = songs) {
            songsList.innerHTML = '';

            if (songsToRender.length === 0) {
                emptyFavorites.style.display = 'block';
                return;
            } else {
                emptyFavorites.style.display = 'none';
            }

            songsToRender.forEach((song, index) => {
                const songElement = document.createElement('div');
                songElement.className = 'cancion';
                songElement.innerHTML = `
                    <div class="portada">
                        <div class="loading-image"></div>
                        <img src="${song.coverImage}" alt="${song.name}" onload="this.style.display='block'; this.previousElementSibling.style.display='none'" onerror="this.previousElementSibling.style.display='none'">
                    </div>
                    <div class="nombre"><h4>${song.name}</h4></div>
                    <div class="artista"><p>${song.artist}</p></div>
                `;
                songElement.addEventListener('click', () => playSong(songs.indexOf(song)));
                songsList.appendChild(songElement);
            });
        }

        // Funci√≥n para reproducir una canci√≥n
        function playSong(index) {
            currentSongIndex = index;
            const song = songs[index];
            currentSongNameEl.textContent = song.name;
            currentArtistEl.textContent = song.artist;

            // Mostrar loading de imagen
            coverLoading.style.display = 'block';
            currentCoverEl.style.display = 'none';

            // Cargar imagen
            currentCoverEl.src = song.coverImage;
            currentCoverEl.onload = function() {
                coverLoading.style.display = 'none';
                currentCoverEl.style.display = 'block';
            };
            currentCoverEl.onerror = function() {
                coverLoading.style.display = 'none';
                // Si la imagen no carga, mostrar un placeholder
                currentCoverEl.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='250' height='250' viewBox='0 0 24 24'%3E%3Cpath fill='%236a11cb' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E";
                currentCoverEl.style.display = 'block';
            };

            audioPlayer.src = song.audioSrc;
            // Cargar letras desde el archivo .lrc
            loadLyrics(song);
            // Actualizar bot√≥n de favoritos en el reproductor
            updateFavoritePlayerButton();
            playerFullscreen.style.display = 'flex';
            audioPlayer.play();
            isPlaying = true;
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
        }

        // Cargar letras desde archivo .lrc
        function loadLyrics(song) {
            lyricsContainer.innerHTML = '<div class="loading">Cargando letra...</div>';
            lyricsLines = [];

            fetch(song.lyricsFile)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Archivo de letras no encontrado');
                    }
                    return response.text();
                })
                .then(data => {
                    lyricsContainer.innerHTML = '';
                    const lines = data.split('\n');
                    let lyricData = [];

                    lines.forEach(line => {
                        // Parsear l√≠neas con formato [mm:ss.xx] texto
                        const timeMatch = line.match(/\[(\d{2}):(\d{2}\.\d{2})\](.*)/);
                        if (timeMatch) {
                            const minutes = parseInt(timeMatch[1]);
                            const seconds = parseFloat(timeMatch[2]);
                            const text = timeMatch[3].trim();
                            const time = minutes * 60 + seconds;

                            if (text) {
                                lyricData.push({ time, text });
                            }
                        }
                    });

                    // Ordenar por tiempo
                    lyricData.sort((a, b) => a.time - b.time);

                    // Crear elementos de letra
                    lyricData.forEach(line => {
                        const lyricLine = document.createElement('div');
                        lyricLine.className = 'lyrics-line';
                        lyricLine.textContent = line.text;
                        lyricLine.dataset.time = line.time;
                        lyricsContainer.appendChild(lyricLine);
                        lyricsLines.push(lyricLine);
                    });

                    if (lyricData.length === 0) {
                        lyricsContainer.innerHTML = '<div class="loading">Letra no disponible</div>';
                    }
                })
                .catch(error => {
                    console.error('Error cargando letra:', error);
                    lyricsContainer.innerHTML = '<div class="loading">Error cargando letra</div>';
                });
        }

        // Actualizar bot√≥n de favoritos en el reproductor
        function updateFavoritePlayerButton() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const song = songs[currentSongIndex];
            const isFavorite = favorites.some(fav => fav.audioSrc === song.audioSrc);

            if (isFavorite) {
                favoritePlayerBtn.classList.add('active');
                favoritePlayerBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                favoritePlayerBtn.classList.remove('active');
                favoritePlayerBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
        }

        // Eventos del reproductor
        playBtn.addEventListener('click', () => {
            if (isPlaying) {
                audioPlayer.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                audioPlayer.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
            isPlaying = !isPlaying;
        });

        // Bot√≥n de siguiente canci√≥n
        nextBtn.addEventListener('click', () => {
            if (currentSongIndex < songs.length - 1) {
                currentSongIndex++;
            } else {
                currentSongIndex = 0; // Volver al inicio si es la √∫ltima canci√≥n
            }
            playSong(currentSongIndex);
        });

        // Bot√≥n de canci√≥n anterior
        prevBtn.addEventListener('click', () => {
            if (currentSongIndex > 0) {
                currentSongIndex--;
            } else {
                currentSongIndex = songs.length - 1; // Ir a la √∫ltima canci√≥n si es la primera
            }
            playSong(currentSongIndex);
        });

        audioPlayer.addEventListener('timeupdate', () => {
            const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progressBar.style.width = `${progress}%`;
            const minutes = Math.floor(audioPlayer.currentTime / 60);
            const seconds = Math.floor(audioPlayer.currentTime % 60);
            currentTimeEl.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            // Sincronizar la letra
            const currentTime = audioPlayer.currentTime;
            let activeLineIndex = -1;
            lyricsLines.forEach((line, index) => {
                const time = parseFloat(line.dataset.time);
                if (currentTime >= time) {
                    activeLineIndex = index;
                }
            });

            if (activeLineIndex >= 0) {
                lyricsLines.forEach((line, index) => {
                    line.classList.remove('active', 'previous');

                    if (index === activeLineIndex) {
                        line.classList.add('active');
                    } else if (index === activeLineIndex - 1) {
                        line.classList.add('previous');
                    }
                });

                // Desplazar las letras para que la l√≠nea activa est√© en el centro
                const activeLine = lyricsLines[activeLineIndex];
                if (activeLine) {
                    const containerHeight = lyricsDisplay.clientHeight;
                    const lineHeight = activeLine.offsetHeight;
                    const offsetTop = activeLine.offsetTop;
                    const scrollPosition = offsetTop - (containerHeight / 2) + (lineHeight / 2);
                    lyricsContainer.style.transform = `translateY(-${scrollPosition}px)`;
                }
            }
        });

        audioPlayer.addEventListener('loadedmetadata', () => {
            const minutes = Math.floor(audioPlayer.duration / 60);
            const seconds = Math.floor(audioPlayer.duration % 60);
            durationEl.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        });

        progressContainer.addEventListener('click', (e) => {
            const progressWidth = progressContainer.clientWidth;
            const clickedOffsetX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickedOffsetX / progressWidth) * duration;
        });

        // Cerrar reproductor en pantalla completa (NO pausa la canci√≥n)
        closeBtn.addEventListener('click', () => {
            playerFullscreen.style.display = 'none';
            // NO pausamos la canci√≥n aqu√≠
            // Solo restablecemos la visualizaci√≥n
            songDisplay.style.display = 'block';
            lyricsDisplay.style.display = 'none';
            lyricsToggleBtn.classList.remove('active');
            isLyricsVisible = false;
        });

        // Alternar entre portada y letra con el nuevo bot√≥n
        lyricsToggleBtn.addEventListener('click', () => {
            isLyricsVisible = !isLyricsVisible;
            if (isLyricsVisible) {
                songDisplay.style.display = 'none';
                lyricsDisplay.style.display = 'block';
                lyricsToggleBtn.classList.add('active');
            } else {
                songDisplay.style.display = 'block';
                lyricsDisplay.style.display = 'none';
                lyricsToggleBtn.classList.remove('active');
            }
        });

        // Funci√≥n para marcar como favorita desde el reproductor
        favoritePlayerBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const song = songs[currentSongIndex];
            const songIndex = favorites.findIndex(fav => fav.audioSrc === song.audioSrc);
            if (songIndex === -1) {
                favorites.push(song);
                favoritePlayerBtn.classList.add('active');
                favoritePlayerBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                favorites.splice(songIndex, 1);
                favoritePlayerBtn.classList.remove('active');
                favoritePlayerBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
            localStorage.setItem('favorites', JSON.stringify(favorites));

            // Si estamos viendo favoritos, actualizar la lista
            if (showingFavorites) {
                showFavorites();
            }
        });

        // Mostrar todas las canciones
        allSongsBtn.addEventListener('click', () => {
            showingFavorites = false;
            allSongsBtn.classList.add('active');
            favoritesBtn.classList.remove('active');
            renderSongs();
        });

        // Mostrar favoritos
        favoritesBtn.addEventListener('click', () => {
            showingFavorites = true;
            favoritesBtn.classList.add('active');
            allSongsBtn.classList.remove('active');
            showFavorites();
        });

        function showFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            renderSongs(favorites);
        }

        // Pausar la canci√≥n cuando el usuario salga de la p√°gina
        window.addEventListener('beforeunload', () => {
            if (isPlaying) {
                audioPlayer.pause();
            }
        });

        // Pausar la canci√≥n cuando la pesta√±a pierda el foco
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && isPlaying) {
                audioPlayer.pause();
                isPlaying = false;
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        });

        // Inicializar la p√°gina
        renderSongs();
    </script>
</body>
</html>
